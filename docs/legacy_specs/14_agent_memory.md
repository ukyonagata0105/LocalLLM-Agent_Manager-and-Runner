# M14: Agent Memory è©³ç´°è¨­è¨ˆæ›¸

> **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ID**: M14  
> **Tier**: 3 (Advanced - æ˜ç¤ºçš„ã«æœ‰åŠ¹åŒ–)  
> **ä¾å­˜**: M05  
> **è¿½åŠ è¦ä»¶**: ãƒ™ã‚¯ãƒˆãƒ«DBï¼ˆM05çµŒç”±ï¼‰

---

## 1. æ¦‚è¦

ã‚»ãƒƒã‚·ãƒ§ãƒ³é–“ã®è¨˜æ†¶ä¿æŒã€‚çŸ­æœŸãƒ»é•·æœŸãƒ»ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰è¨˜æ†¶ã€‚

---

## 2. åˆ¶é™äº‹é …ï¼ˆgemini-request.mdåæ˜ ï¼‰

| é …ç›® | åˆ¶é™ | ç†ç”± |
|------|------|------|
| **é¡ä¼¼åº¦é–¾å€¤** | 0.8ä»¥ä¸Šï¼ˆå³æ ¼ï¼‰ | ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ±šæŸ“é˜²æ­¢ |
| **è¦ç´„åœ§ç¸®** | 7æ—¥çµŒéå¾Œã«è‡ªå‹•è¦ç´„ | ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸è‚¥å¤§åŒ–å¯¾ç­– |
| **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†** | è¨˜æ†¶ã®é–²è¦§ãƒ»å‰Šé™¤UIå¿…é ˆ | ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ |

---

## 3. ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ±šæŸ“å¯¾ç­–

> âš ï¸ **æ”¹å–„**: ç„¡é–¢ä¿‚ãªè¨˜æ†¶ã«ã‚ˆã‚‹ãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³é˜²æ­¢

```typescript
interface MemorySearch {
  search(query: string, options: SearchOptions): Promise<MemoryEntry[]>;
}

const defaultOptions: SearchOptions = {
  // å³æ ¼ãªé–¾å€¤
  similarityThreshold: 0.8,
  
  // ç„¡é–¢ä¿‚ãªã‚‰ä½•ã‚‚è¿”ã•ãªã„
  minResults: 0,
  maxResults: 5,
  
  // æœ€è¿‘ã‚¢ã‚¯ã‚»ã‚¹ã•ã‚ŒãŸè¨˜æ†¶ã‚’å„ªå…ˆ
  recencyBoost: 0.1
};
```

---

## 4. è¦ç´„åœ§ç¸®

> âš ï¸ **æ”¹å–„**: ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸è‚¥å¤§åŒ–å¯¾ç­–

```typescript
interface MemoryConsolidation {
  // å®šæœŸå®Ÿè¡Œï¼ˆãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ï¼‰
  async consolidateOld(): Promise<void> {
    const oldEntries = await this.getEntriesOlderThan(7 * 24 * 60 * 60 * 1000);
    
    for (const entry of oldEntries) {
      // è¦ç´„ã‚’ç”Ÿæˆ
      const summary = await llm.summarize(entry.content);
      
      // è¦ç´„ã§ç½®ãæ›ãˆ
      await this.update(entry.id, {
        content: summary,
        metadata: { ...entry.metadata, summarized: true }
      });
    }
  }
}
```

---

## 5. ãƒ¡ãƒ¢ãƒªç®¡ç†UI

> âš ï¸ **æ”¹å–„**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹ç›´æ¥ç®¡ç†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¨˜æ†¶ç®¡ç†                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” [æ¤œç´¢...]                       [ã‚¿ã‚¤ãƒ—â–¼] [æ—¥ä»˜â–¼]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚ ğŸ“Œ é‡è¦ãªè¨˜æ†¶                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ’¡ TypeScriptã‚’å¥½ã‚€                     [ç·¨é›†] [å‰Šé™¤]   â”‚â”‚
â”‚ â”‚    é‡è¦åº¦: 0.9 | 2024-01-10                             â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ ğŸ“ æœ€è¿‘ã®è¨˜æ†¶                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ’¬ APIã®ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦è­°è«–    [ç·¨é›†] [å‰Šé™¤]   â”‚â”‚
â”‚ â”‚    é‡è¦åº¦: 0.5 | 2024-01-20 | è¦ç´„æ¸ˆã¿                  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                             â”‚
â”‚ [ã™ã¹ã¦ã®è¨˜æ†¶ã‚’å‰Šé™¤]                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«API

```typescript
export interface AgentMemoryAPI {
  // è¨˜æ†¶æ“ä½œ
  add(entry: CreateMemoryInput): Promise<MemoryEntry>;
  search(query: string, options?: SearchOptions): Promise<MemoryEntry[]>;
  update(id: string, updates: Partial<MemoryEntry>): Promise<void>;
  delete(id: string): Promise<void>;
  
  // ç®¡ç†
  consolidate(): Promise<void>;
  export(): Promise<MemoryExport>;
  clear(): Promise<void>;
}
```

---

## 7. æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| æŠ€è¡“ | ç”¨é€” | ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ |
|------|------|------------|
| **SQLite** | ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰è¨˜æ†¶ | Public Domain |
| **Qdrant/LanceDB** | ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ | Apache 2.0 |

---

*ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 2.0*
*æœ€çµ‚æ›´æ–°: 2026-01-05*
